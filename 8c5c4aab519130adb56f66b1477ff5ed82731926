{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5905d573_4baf69c9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1002583
      },
      "writtenOn": "2026-01-08T02:44:53Z",
      "side": 1,
      "message": "rebased to resolve new merge conflicts",
      "revId": "8c5c4aab519130adb56f66b1477ff5ed82731926",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75b3a8bd_c86199a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2026-01-20T10:50:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5905d573_4baf69c9",
      "revId": "8c5c4aab519130adb56f66b1477ff5ed82731926",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b585471_dd908989",
        "filename": "user_mgr.cpp",
        "patchSetId": 11
      },
      "lineNbr": 639,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2026-01-20T10:50:02Z",
      "side": 1,
      "message": "say if user exists with same name, then \"err\" set to true and then there is no point to proceed to line number 640 to 654 since we can\u0027t proceed rename right?",
      "revId": "8c5c4aab519130adb56f66b1477ff5ed82731926",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f109bd46_55c88260",
        "filename": "user_mgr.cpp",
        "patchSetId": 11
      },
      "lineNbr": 639,
      "author": {
        "id": 1002583
      },
      "writtenOn": "2026-01-20T16:57:50Z",
      "side": 1,
      "message": "in the `err \u003d true` case, `isUserExistSystem(newUserName)` is true which means that one of two things happened - maybe there was some race and the newUserName was created after `throwForUserExists(newUserName)` but before `executeUserRename`\n\nor alternatively, the rename was just partly successful. like `usermod` may have just failed to rename a home dir or something (we can dig through the usermod source to see what failure modes it has).\n\nin the second case, we should definitely run lines 640 through 654 so that the in-memory state reflects what\u0027s on the system (new user ends up existing, old user is removed)\n\ndo you know if phosphor-user-manager can have the race condition described above where it simultaneously handles both a create and rename? I hadn\u0027t considered that before, but could add logic to check if both the old and new users exist, in which case I\u0027d agree with skipping 640 to 654, or at minimum adding the new user to the in-memory struct if it\u0027s missing so that a future call tracks both users as present.",
      "parentUuid": "6b585471_dd908989",
      "revId": "8c5c4aab519130adb56f66b1477ff5ed82731926",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b29a7cc1_290051f7",
        "filename": "user_mgr.cpp",
        "patchSetId": 11
      },
      "lineNbr": 639,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2026-02-04T16:14:26Z",
      "side": 1,
      "message": "yeah we can dig more on usermod failures.\nI dont think user-manager have race condition simultaneously handling both a create and rename at the same time.\nI think we can merge this patch and address this rework in future commits",
      "parentUuid": "f109bd46_55c88260",
      "revId": "8c5c4aab519130adb56f66b1477ff5ed82731926",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ],
  "submitRequirementResults": []
}